# Type of analysis: 

Predictive Analysis (Supervised Machine learning)

# Aim of the analysis:

Convince an insurance company to provide health insurance for the average income population in Nigeria by suggesting an insurance model.
which is a research question in "Carelyo Model Analysis folder/Insurance_Model_Analysis".

# Documentation of Workflow 

1. Populated patient.csv, doctor.csv and consultation.csv in "Carelyo Model Analysis folder/Populated data folder":

   Here the values of patient, doctor and consultaion tables from carelyo-api database are populated.
   #### https://github.com/Carelyo/Data-Science/tree/develop/LIATwo/Carelyo%20Model%20Analysis/Populated%20data

2. Data pre-processing of populated data: 

   Here cleaning of the populated datasets is carried out.
   #### cleaned_patient https://github.com/Carelyo/Data-Science/blob/develop/LIATwo/Carelyo%20Model%20Analysis/cleaned_patient.csv
   #### cleaned_doctor https://github.com/Carelyo/Data-Science/blob/develop/LIATwo/Carelyo%20Model%20Analysis/cleaned_doctor.csv
   #### cleaned_consultation https://github.com/Carelyo/Data-Science/blob/develop/LIATwo/Carelyo%20Model%20Analysis/cleaned_consultation.csv

3. Select and merge features that can best explian target variable (consultation_cost) from each of the above cleaned populated data.

   Here the following tasks are performed before generating the simulated_data.csv:
   1. new varaiable called "patient_age" is calculated from variable "date_of_birth" in cleaned_patent.csv
   2. new varaiable called "doctor_years_of_experience" is calculated from variable "graduation_date" in "cleaned_doctor.csv"
   3. cleaned_patient.csv, cleaned_doctor.csv and cleaned_consultation.csv are merged using patient_id and doctor_id and id 
      (consultation_id) respectively 
   #### simulated_data https://github.com/Carelyo/Data-Science/blob/develop/LIATwo/Carelyo%20Model%20Analysis/simulated_data.csv

4. Generate the final dataset (model_data) from the simulated_data that will be used for model prediction.

   Here a new dataset called model_data.csv is generated by selecting variables from the simulated_data.csv 
   #### model_data https://github.com/Carelyo/Data-Science/blob/develop/LIATwo/Carelyo%20Model%20Analysis/model_data.csv

5. Prepare the model_data before modeling.

   Here the following tasks are performed:
   1. features (explanatory variables) with catagorical values in model_data.csv are transformed to dummies (o and 1)
   2. target variable (consultation_cost) is transformed to logarithm of consultation_cost to get better estimate (small MSE)

6. Propose an insurance model:

   Here the machine learning multiple regression (MLR) model is suggested as a recommended insurance model

7.	Perform Supervised machine learning (Predictive analysis) to check if the proposed model can best predict the target variable   
   (consultation_cost). 
   
   Here the recommended MLR model is used to predict the consultation_cost (or log_consultation_cost) using train and test data to check fitness of the model. 

As a conclussion, according to the result obtaned in both metrices (small mean square error (MSE) closer to 0 and high r-square score closer to 1) MLR is fit model and can be used as recommended insurance model.



For the ANOVA.pdf file documentation please go through the the following reading 
#### https://medium.com/analytics-vidhya/the-measures-of-variation-of-a-linear-regression-model-e85f0258ab3f







